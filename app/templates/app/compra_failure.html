{% extends 'app/base.html' %}
{% load dict_extras %}

{% block contenido %}
<br><br>
<h2>Resumen de compra</h2>
<hr>
<div class="alert alert-danger">
    <strong>Â¡Pago fallido!</strong> Tu compra no fue procesada correctamente.
</div>
<table class="table">
    <tr>
        <th>Producto</th>
        <th>Cantidad</th>
        <th>Precio</th>
        <th>Subtotal</th>
    </tr>
    {% for producto in productos %}
    <tr>
        <td>{{ producto.nombre }}</td>
        <td>{{ cantidades|dict_get:producto.id }}</td>
        <td>${{ producto.precio }}</td>
        <td>${{ subtotales|dict_get:producto.id }}</td>
    </tr>
    {% endfor %}
    <tr>
        <td colspan="3" class="text-end"><strong>Total:</strong></td>
        <td><strong>${{ total }}</strong></td>
    </tr>
</table>
{% if mensaje %}
<div class="alert alert-info">{{ mensaje }}</div>
{% endif %}
{% endblock %}